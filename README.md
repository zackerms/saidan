# saidan（裁断）

CSVファイルのカラム削除と行分割ができるWebアプリケーションです。

## 操作感

- サイダンする気持ちよさ
  - ユーザーは画面を触ることで CSV ファイルをまるで現実の紙のようにサイダンしていく気持ちよさを感じることができる

## 機能

- **CSVアップロード**: ドラッグ&ドロップまたはファイル選択でCSVファイルをアップロード
- **カラム削除（裁断）**: カラム間の線をクリックして、その線より右側のカラムを削除
  - ハサミアイコンで視覚的に裁断位置を確認
  - 複数の線を選択して一度に複数のカラムを削除可能
  - プレビュー機能で最初の10行を確認
- **行分割**: 指定した行数ごとにCSVファイルを分割
  - 分割結果のプレビュー表示
  - 一括ダウンロード機能
- **ダウンロード**: 処理済みのCSVファイルをダウンロード
  - 単一ファイルのダウンロード
  - 分割された複数ファイルの一括ダウンロード

## 技術スタック

- React 19
- TypeScript
- Vite
- Tailwind CSS
- shadcn/ui
- PapaParse (CSV処理)
- Docker + nginx (production)

## セットアップ

### ローカル開発

1. 依存関係のインストール

```bash
pnpm install
```

2. 開発サーバーの起動

```bash
pnpm dev
```

3. ブラウザで `http://localhost:5173` を開く

### Docker Compose で起動

1. イメージのビルドと起動

```bash
docker compose up --build
```

2. ブラウザで `http://localhost:3000` を開く

### Production ビルド

1. ビルド

```bash
pnpm build
```

2. プレビュー

```bash
pnpm preview
```

## 使用方法

1. **CSVファイルのアップロード**
   - ファイルをドラッグ&ドロップするか、「ファイルを選択」ボタンをクリック

2. **カラム削除（裁断）モード**
   - 「カラム削除（裁断）」タブを選択
   - カラム間の線にマウスを合わせるとハサミアイコンが表示されます
   - クリックして裁断位置を選択（複数選択可能）
   - 「裁断を適用」ボタンをクリックして適用

3. **行分割モード**
   - 「行分割」タブを選択
   - 1ファイルあたりの行数を入力
   - 「分割実行」ボタンをクリック

4. **ダウンロード**
   - 「ダウンロード」ボタンをクリック
   - 分割されたファイルの場合は、複数ファイルが順次ダウンロードされます

## プロジェクト構造

```
saidan/
├── src/
│   ├── components/
│   │   ├── ui/              # shadcn/uiコンポーネント
│   │   ├── CsvUploader.tsx  # CSVアップロード
│   │   ├── ColumnCutter.tsx # カラム削除（裁断）
│   │   ├── RowSplitter.tsx # 行分割
│   │   └── PreviewTable.tsx # プレビューテーブル
│   ├── hooks/
│   │   ├── useCsvProcessor.ts # CSV処理フック
│   │   └── useDownload.ts     # ダウンロードフック
│   ├── lib/
│   │   └── utils.ts          # ユーティリティ関数
│   ├── App.tsx
│   └── main.tsx
├── Dockerfile
├── docker-compose.yml
├── nginx.conf
└── package.json
```
